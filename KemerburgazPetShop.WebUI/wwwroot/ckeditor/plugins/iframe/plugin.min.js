CKEDITOR.plugins.add("iframe",{requires:"dialog,fakeobjects",lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",icons:"iframe",hidpi:!0,onLoad:function(){CKEDITOR.addCss("img.cke_iframe{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(e){var a=e.lang.iframe,t="iframe[align,longdesc,tabindex,frameborder,height,name,scrolling,src,title,width,sandbox]";e.plugins.dialogadvtab&&(t+=";iframe"+e.plugins.dialogadvtab.allowedContent({id:1,classes:1,styles:1})),CKEDITOR.dialog.add("iframe",this.path+"dialogs/iframe.js"),e.addCommand("iframe",new CKEDITOR.dialogCommand("iframe",{allowedContent:t,requiredContent:"iframe"})),e.ui.addButton&&e.ui.addButton("Iframe",{label:a.toolbar,command:"iframe",toolbar:"insert,80"}),e.on("doubleclick",function(e){var a=e.data.element;a.is("img")&&"iframe"==a.data("cke-real-element-type")&&(e.data.dialog="iframe")}),e.addMenuItems&&e.addMenuItems({iframe:{label:a.title,command:"iframe",group:"image"}}),e.contextMenu&&e.contextMenu.addListener(function(e){if(e&&e.is("img")&&"iframe"==e.data("cke-real-element-type"))return{iframe:CKEDITOR.TRISTATE_OFF}})},afterInit:function(t){var e=t.dataProcessor;(e=e&&e.dataFilter)&&e.addRules({elements:{iframe:function(e){var a=t.plugins.iframe._.getIframeAttributes(t,e);return void 0!==a&&(e.attributes=CKEDITOR.tools.object.merge(e.attributes,a)),t.createFakeParserElement(e,"cke_iframe","iframe",!0)}}})},_:{getIframeAttributes:function(e,a){e=e.config.iframe_attributes;return"function"==typeof e?e(a):"object"==typeof e?e:void 0}}}),CKEDITOR.config.iframe_attributes={sandbox:""};